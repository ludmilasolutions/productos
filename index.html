<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Ferreter√≠a Carnevale - Lista de Precios</title>
    <meta name="theme-color" content="#2c3e50">
    <link rel="stylesheet" href="styles.css">
    <link rel="preload" href="app.js" as="script">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üõ†Ô∏è</text></svg>">
</head>
<body>
    <!-- Solo elementos cr√≠ticos visibles inicialmente -->
    <div class="app-container" id="appContainer">
        <header class="app-header" id="appHeader">
            <div class="header-content">
                <h1>üõ†Ô∏è FERRETER√çA CARNEVALE</h1>
                <p class="subtitle">Lista de precios - Buscador r√°pido</p>
                <div class="stats">
                    <span id="productCount">Cargando...</span>
                </div>
            </div>
        </header>

        <div class="search-section">
            <div class="search-box-container">
                <input 
                    type="search" 
                    id="searchInput" 
                    placeholder="Buscar producto..." 
                    autocapitalize="off"
                    autocomplete="off"
                    enterkeyhint="search"
                >
                <div class="search-actions">
                    <button id="clearBtn" class="icon-btn" aria-label="Limpiar b√∫squeda">√ó</button>
                </div>
            </div>
            
            <div class="quick-filters">
                <select id="rubroFilter" class="mobile-select">
                    <option value="">Todos los rubros</option>
                </select>
                <select id="sortFilter" class="mobile-select">
                    <option value="relevance">Relevancia</option>
                    <option value="price_asc">Precio ‚Üë</option>
                    <option value="price_desc">Precio ‚Üì</option>
                </select>
            </div>
        </div>

        <!-- Contenedor virtualizado -->
        <div class="products-viewport" id="productsViewport">
            <div class="products-container" id="productsContainer"></div>
            <div class="scroll-spacer" id="scrollSpacer"></div>
        </div>

        <!-- Loading states -->
        <div class="loading-indicator" id="loadingIndicator">
            <div class="spinner"></div>
            <p>Cargando productos...</p>
        </div>

        <div class="empty-state" id="emptyState">
            <p>Ingresa un t√©rmino para buscar productos</p>
        </div>

        <div class="no-results" id="noResults">
            <p>No se encontraron productos</p>
            <button id="resetSearch" class="text-btn">Mostrar todos</button>
        </div>

        <!-- Footer ligero -->
        <footer class="app-footer">
            <p>Actualizado semanalmente ‚Ä¢ Consultas por WhatsApp</p>
        </footer>
    </div>

    <!-- Modal optimizado -->
    <dialog id="productModal">
        <div class="modal-content">
            <button id="closeModal" class="modal-close">√ó</button>
            <div id="modalContent"></div>
        </div>
    </dialog>

    <script src="app.js" defer></script>
</body>
</html>
